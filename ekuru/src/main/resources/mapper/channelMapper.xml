<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.scit.ekuru.dao.ChannelMapper">

<select id="getListAll" resultType="channel">
	SELECT
		CHNUM,
		CHID,
		CHNAME,
		CHPROFILE,
		CHFOLLOWER,
		CHINTRO,
		CHINDATE
	FROM
		E_CHANNEL_TB
</select>

<!-- 채널 정보 -->
<select id="chRead" parameterType="channel" resultType="channel">
	SELECT
		CHNUM,
		CHID,
		CHNAME,
		CHPROFILE,
		CHFOLLOWER,
		CHINTRO,
		CHINDATE
	FROM
		E_CHANNEL_TB
	<where>
	    <if test="chName == null">CHNUM = #{chNum}</if>
	    <if test="chName != null">CHNAME = #{chName}</if>
	</where>


</select>

<!-- 상품 전체 리스트 -->
<select id="getProdList" parameterType="channel" resultType="product">
	SELECT
		PRODNUM,
		USERID,
		CHNUM,
		PRODCATEGORY,
		PRODTITLE,
		PRODSTOCK,
		PRODPRICE,
		PRODCONTENT,
		PRODORIGINALPIC1,
		PRODORIGINALPIC2,
		PRODORIGINALPIC3,
		PRODSAVEDPIC1,
		PRODSAVEDPIC2,
		PRODSAVEDPIC3,
		PRODINDATE
	FROM
		E_PRODUCT_TB
	where
	    USERID = #{chId}
</select>

<!-- 각 물품 가져오기 -->
<select id="getProdEach" parameterType="product" resultType="product">
	SELECT
		PRODNUM,
		USERID,
		CHNUM,
		PRODCATEGORY,
		PRODTITLE,
		PRODSTOCK,
		PRODPRICE,
		PRODCONTENT,
		PRODORIGINALPIC1,
		PRODORIGINALPIC2,
		PRODORIGINALPIC3,
		PRODSAVEDPIC1,
		PRODSAVEDPIC2,
		PRODSAVEDPIC3,
		PRODINDATE
	FROM
		E_PRODUCT_TB
	where
	    PRODNUM = #{prodNum}

</select>

<!-- 상품 등록 -->
<insert id="ch_posters_Write" parameterType="product">
INSERT INTO
	E_PRODUCT_TB (
		PRODNUM,
		USERID,
		CHNUM,
		PRODCATEGORY,
		PRODTITLE,
		PRODSTOCK,
		PRODPRICE,
		PRODCONTENT,
		PRODORIGINALPIC1,
		PRODORIGINALPIC2,
		PRODORIGINALPIC3,
		PRODSAVEDPIC1,
		PRODSAVEDPIC2,
		PRODSAVEDPIC3,
		PRODINDATE
	)VALUES(
		PRODNUM_SQ.nextval,
		#{userId},
		#{chNum},
		#{prodCategory},
		#{prodTitle},
		#{prodStock},
		#{prodPrice},
		#{prodContent},
		'wash1.jpg',
		'wash2.jpg',
		'wash3.jpg',
		'wash1.jpg',
		'wash2.jpg',
		'wash3.jpg',
		SYSDATE)
</insert>

<!-- 상품 삭제 -->
<delete id="prodDelete" parameterType="product">
	DELETE
		FROM
			E_PRODUCT_TB
		WHERE
			PRODNUM = #{prodNum}
</delete>

</mapper>
